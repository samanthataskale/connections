document.querySelector("#timeline").addEventListener("input", timeline_handler);
document.querySelector("#highlight").addEventListener("click", higlight_nodes);
document.querySelector("#findconnect").addEventListener("click", find_connections);
document.querySelector("#papers").addEventListener("input", papers_handler);
document.querySelector("#publications").addEventListener("input", publications_handler);

function timeline_handler(){
	let time = document.querySelector("#timeline").value;
	console.log(time);
}

function papers_handler(){
	let time = document.querySelector("#papers").value;
	console.log(time);
}

function publications_handler(){
	let time = document.querySelector("#publications").value;
	console.log(time);
}

function higlight_nodes(){
	let name = document.querySelector("#search_name").value;
	console.log(name)
}

function find_connections() {
	let name = document.querySelector("#search_name").value;
	console.log(name)
	consle.log(database);
}

async function get_initial_graph(){

	let data = { "datasource" : database, "dataid" : dataid }
	post_request = {
		"method": "POST",
		"headers": {"Content-Type": "application/json", 'X-CSRF-TOKEN': csrf_token},
		"body": JSON.stringify(data),
	}
	const result = await fetch("/buildgraph", post_request);
    const json = await result.json();

}

window.onload = function () {

  get_initial_graph();

  // create an array with nodes
  var nodes = new vis.DataSet([{'id': '1718132', 'label': 'J. Purtilo'}, {'id': '2ad6e29494c8d2ec28aa19aa4a31a01cb71cb8b4', 'label': 'A. Shaver\nNeehar Peri\nRemy Mezebish\nG. Matthew\nAlyza Berson\nC. Gaskins\nGregory P. Davis\nGarrett E. Katz\nI. Samuel\nM. Reinhard\nMichelle E. Costanzo\nJ. Reggia\nR. Gentili\n'}, {'id': 'fd81d51c5ef9c156e23288c7aa9fb3fa21652957', 'label': 'Aadesh Bagmar\nK. Hogan\nDalia Shalaby\n'}, {'id': '72e45070c2182150b0df5ee33608f1086990daf4', 'label': 'K. Hogan\nAnnabelle Baer\n'}, {'id': '06c28a5973a3c484ddcf28c6b83ebb971da61565', 'label': 'K. Hogan\nFei Shan\nM. Ravichandran\nAadesh Bagmar\nJames Wang\nAdam Sarsony\n'}, {'id': 'e816f35cb112a92799abefecd455dde8ea273c6a', 'label': 'K. Hogan\nN. Warford\nRobert Morrison\nDavid Miller\nSean Malone\n'}, {'id': '25cf3248af2cb20166cb3795ef774daf504e8b10', 'label': 'Ashton Webster\nRyan Eckenrod\n'}, {'id': '0551eaf835bb68c487fcda6c7aa8fe18e0152d62', 'label': 'Jeff Stuckman\n'}, {'id': '134b1682cfef27fcf9bc43d13153add6507f6e7d', 'label': 'Gary Nilson\nKent Wills\nJeff Stuckman\n'}, {'id': '1f618e80c67c16921d4b1d0bc858eaec03762bfa', 'label': 'Jeff Stuckman\nKent Wills\n'}, {'id': '6e7d9747e47d29d79970bc8127a15cabfd93ecf8', 'label': 'D. Tahmoush\nSandro Fouché\nS. McMaster\nJeff Stuckman\n'}, {'id': 'c315d9dae89ddeeaab74354963a2614e3dda999f', 'label': 'Tae-hyung Kim\n'}, {'id': '37c7ac88457f8851f968641b1e95a55e970581da', 'label': 'K. S. Guimaraes\nW. Gasarch\n'}, {'id': 'ef66e664c4176244e8e79aaef3ddd91ed03c0205', 'label': 'D. Savarese\n'}, {'id': '233c36b9c41fddc4e63c121f4b13006d4636441c', 'label': 'Jonathan Roberts\nSandro Fouché\n'}, {'id': '9db1ce13130fb96bed69379f30308616eb9cd8df', 'label': 'M. M. Hugue\n'}, {'id': 'aed3dc9640a0f3a27f9d57bab5bb318155d33709', 'label': 'Gilberto Matos\nE. White\n'}, {'id': '42b9e2c0ab6a137dd88cb2a493728f7f98479a25', 'label': 'D. Welch\n'}, {'id': '73faf998cae9c5b2bc98679da5060743a8c4e608', 'label': 'L. C. Welch\n'}, {'id': '8a068e8e216bf1564238253ca8af73ba198f8fd1', 'label': 'Gilberto Matos\n'}, {'id': '86ddb6244c11f02d8fc5db378b7e89dd78ed9ab0', 'label': 'E. White\n'}, {'id': '229c0a9948b4a012bef500811086f0b062fa520f', 'label': 'Lisa Spicknall Fruth\nE. White\n'}, {'id': '5da744efeda514f525dda715d1813945b856707b', 'label': 'M. Capps\nP. D. Stotts\nJames W. Duff\n'}, {'id': 'e4ffa498b4c966684c453bd1e55f0be54a0d0f43', 'label': 'James W. Duff\nM. Capps\nP. D. Stotts\n'}, {'id': '077b885af394e31b11736c02ebce85da58be8dcf', 'label': 'J. Gannon\nM. Zelkowitz\n'}, {'id': '1fbac7d813e6545b1785b1914e0e7cbb0fda9b15', 'label': 'Thomas M. Swiss\nE. White\n'}, {'id': '269d2ef58b63636b378ae42090e9fed4ac8b7378', 'label': 'Cheng Chen\n'}, {'id': '4bd2d114c929a81a748329fd3fb9f0cb04c6eb0b', 'label': 'Elliot A. Shefrin\n'}, {'id': '715f9d389b7883fa5951228d5660329ba103ea78', 'label': 'J. Callahan\n'}, {'id': 'aedee48dc58a65891acafc81115333564d469ff5', 'label': 'Charles Falkenberg\n'}, {'id': '1ccda53394c4310238dd70d1a369fdecab3fa3e4', 'label': 'S. Siegel\n'}, {'id': '3b54553821537ff656034f2cf0de91c3f54c763f', 'label': 'Brent Agnew\nC. Hofmeister\n'}, {'id': 'b98fed078779920f589c0b21783b8891b11f932e', 'label': 'Cheng Chen\nA. Porter\n'}, {'id': '5710e717a596db598df076ce44a7db8161c7067b', 'label': 'C. Hofmeister\n'}, {'id': '6a6083e9b02988cb6fce8ade9ecd3660f8ec8a5e', 'label': 'C. Hofmeister\nE. White\n'}, {'id': 'd712dfe8cd0a0572d13b951e04b88c7a418d98f0', 'label': 'Á. Ólafsson\n'}, {'id': '2292554029cdc4aa3e5bf66ee974084ad569805f', 'label': 'Cheng Chen\nE. White\n'}, {'id': '92ac1d600753895d26950f8743f27cdf9c223fa1', 'label': 'P. Wegner\nW. Scherlis\nD. Luckham\nRalph E. Johnson\n'}, {'id': 'c66c33deb94b7d03912f528ee958a4689ebaf1ab', 'label': 'Heidi E. Myers\n'}, {'id': 'c9441765d0b445d42291b100ac3d97d50f9f3b9a', 'label': 'Aaron Larson\nJeff Clark\n'}, {'id': 'e1f18244805fe6ba7e9bb9ba24c49012df036ebf', 'label': 'P. Jalote\n'}, {'id': '22a2e41904fb2d487cde6f3022ed86234772484b', 'label': 'D. Revis\n'}, {'id': '48de5e91050c48dbf8482dc62574216e81f504d4', 'label': 'E. White\nJ. Callahan\n'}, {'id': '7cefa74d8d3b18fe16a1af4100d1035b4e24ec85', 'label': 'J. Taramaa\n'}, {'id': '8c5cf1bfddc47865520c75e65545de895984db49', 'label': 'J. Atlee\n'}, {'id': 'bfba2348af270af27e47c2ec2ea070dc11103b36', 'label': 'Steve Huseth\nJ. Krueger\nAaron Larson\n'}, {'id': 'c57a41fff9b395a28ad93d822c648e379d3825b5', 'label': 'Elizabeth L. White\n'}, {'id': 'ee20eefac967abcde2529ee36f0ebafa0d9f1e4e', 'label': 'C. Hofmeister\nJ. Atlee\n'}, {'id': '9e7924ee20a1db4f032c9989f17b1d7b1d75a0f2', 'label': 'D. Reed\nD. Grunwald\n'}, {'id': '3333a19c09ebde7d7821a055de044b6c31f784ee', 'label': 'B. Berndt\nAnthony J. F. Biagioli\n'}, {'id': '7ed4e50b56543e266fe280657a1a12a3c7f04aa8', 'label': 'S. Kaplan\nRalph E. Johnson\nR. Campbell\nSamuel N. Kamin\nM. Harandi\nJ. W. Liu\n'}]);

  // create an array with edges
  var edges = new vis.DataSet([{'from': '1718132', 'to': '2ad6e29494c8d2ec28aa19aa4a31a01cb71cb8b4', 'title': 'Research Papers:\nAssessment of a Novel Virtual Environment for Examining Human Cognitive-Motor Performance During Execution of Action Sequences'}, {'from': '1718132', 'to': 'fd81d51c5ef9c156e23288c7aa9fb3fa21652957', 'title': 'Research Papers:\nAnalyzing the Effectiveness of an Extensible Virtual Moderator'}, {'from': '1718132', 'to': '72e45070c2182150b0df5ee33608f1086990daf4', 'title': 'Research Papers:\nDiplomat: A conversational agent framework for goal-oriented group discussion'}, {'from': '1718132', 'to': '06c28a5973a3c484ddcf28c6b83ebb971da61565', 'title': 'Research Papers:\nDecidio: A Pilot Implementation and User Study of a Novel Decision-Support System'}, {'from': '1718132', 'to': 'e816f35cb112a92799abefecd455dde8ea273c6a', 'title': 'Research Papers:\nThe Challenges of Labeling Vulnerability-Contributing Commits'}, {'from': '1718132', 'to': '25cf3248af2cb20166cb3795ef774daf504e8b10', 'title': 'Research Papers:\nFast and Service-preserving Recovery from Malware Infections Using CRIU'}, {'from': '1718132', 'to': '0551eaf835bb68c487fcda6c7aa8fe18e0152d62', 'title': 'Research Papers:\nMining Security Vulnerabilities from Linux Distribution Metadata,\nMetrics-based investigation of distributed intrusion detection and attack surface reduction,\nComparing and applying attack surface metrics,\nA Testbed for the Evaluation of Web Intrusion Prevention Systems,\nDetecting runtime anomalies in AJAX applications through trace analysis,\nAnalyzing the wikisphere: Methodology and data to support quantitative wiki research,\nMeasuring the wikisphere'}, {'from': '1718132', 'to': '134b1682cfef27fcf9bc43d13153add6507f6e7d', 'title': 'Research Papers:\nBugBox: A Vulnerability Corpus for PHP Web Applications'}, {'from': '1718132', 'to': '1f618e80c67c16921d4b1d0bc858eaec03762bfa', 'title': 'Research Papers:\nEvaluating Software Product Metrics with Synthetic Defect Data'}, {'from': '1718132', 'to': '6e7d9747e47d29d79970bc8127a15cabfd93ecf8', 'title': 'Research Papers:\nEnhancing Software Project Management Courses With Industry Participation'}, {'from': '1718132', 'to': 'c315d9dae89ddeeaab74354963a2614e3dda999f', 'title': 'Research Papers:\nTitle of Dissertation: toward Optimizing Distributed Programs Directed by Conngurations toward Optimizing Distributed Programs Directed by Conngurations 3 Distributed and Parallel Programming Structures 18 3.1 Client/server 4 Connguration-level Performance Programming 26 4.1 Requirements for Conngur,\nConfiguration-level optimzation of RPC-based distribution programs,\nLoad balancing for parallel loops in workstation clusters,\nA source-level transformation framework for RPC-based distributed programs,\nConfiguration-Level t imizat ion of RP C-Based Distributed Programs,\nConfiguration-level optimization of RPC-based distributed programs'}, {'from': '1718132', 'to': '37c7ac88457f8851f968641b1e95a55e970581da', 'title': 'Research Papers:\nSelection problems viaM-ary queries'}, {'from': '1718132', 'to': 'ef66e664c4176244e8e79aaef3ddd91ed03c0205', 'title': 'Research Papers:\nDynamic reconfiguration with virtual services'}, {'from': '1718132', 'to': '233c36b9c41fddc4e63c121f4b13006d4636441c', 'title': 'Research Papers:\nA Tool for Statistical Detection of Faults in Internet Protocol Networks'}, {'from': '1718132', 'to': '9db1ce13130fb96bed69379f30308616eb9cd8df', 'title': 'Research Papers:\nGuerrilla tactics: motivating design patterns for high-dependability applications'}, {'from': '1718132', 'to': 'aed3dc9640a0f3a27f9d57bab5bb318155d33709', 'title': 'Research Papers:\nAutomated Enforcement of Receptive Safety Properties in Distributed Design,\nAutomated computation of decomposable synchronization conditions'}, {'from': '1718132', 'to': '42b9e2c0ab6a137dd88cb2a493728f7f98479a25', 'title': 'Research Papers:\nBuilding self-reconfiguring distributed virtual environments,\nInterconnecting Distributed Legacy Systems: Virtual EnvironmentDomain Example,\nSoftware Engineering of Virtual Environments:Integration and Interconnection,\nZubin: A Software Engineering Environment for Interconnecting Legacy Virtual Environments,\nDomain-driven reconfiguration in collaborative virtual environments,\nSoftware engineering support for reliably interconnecting legacy virtual environments,\nUsing Compensating Reconfiguration To Maintain Military Distributed Simulations'}, {'from': '1718132', 'to': '73faf998cae9c5b2bc98679da5060743a8c4e608', 'title': 'Research Papers:\nBuilding Self-Reconfiguring Distributed Simulations Using Compensating Reconfiguration'}, {'from': '1718132', 'to': '8a068e8e216bf1564238253ca8af73ba198f8fd1', 'title': 'Research Papers:\nAnalysis and applications of receptive safety properties in concurrent systems,\nReconfiguration of hierarchical tuple-spaces: experiments with Linda-Polylith'}, {'from': '1718132', 'to': '86ddb6244c11f02d8fc5db378b7e89dd78ed9ab0', 'title': 'Research Papers:\nAutomated Computation of Decomposable Synchronization,\nIntegrating the heterogeneous control properties of software modules,\nA flexible program adaptation system: Case studies in Ada,\nUsing Program Adaptation Techniques for Ada Coverage Testing'}, {'from': '1718132', 'to': '229c0a9948b4a012bef500811086f0b062fa520f', 'title': 'Research Papers:\nA pattern-based object-linking mechanism for component-based software development environments'}, {'from': '1718132', 'to': '5da744efeda514f525dda715d1813945b856707b', 'title': 'Research Papers:\nDistributed interoperable virtual environments'}, {'from': '1718132', 'to': 'e4ffa498b4c966684c453bd1e55f0be54a0d0f43', 'title': 'Research Papers:\nSoftware engineering of distributed simulation environments'}, {'from': '1718132', 'to': '077b885af394e31b11736c02ebce85da58be8dcf', 'title': 'Research Papers:\nSoftware Specification: A Comparison of Formal Methods'}, {'from': '1718132', 'to': '1fbac7d813e6545b1785b1914e0e7cbb0fda9b15', 'title': 'Research Papers:\nExtracting Program Structure for Packaging in a Component-Based Environment'}, {'from': '1718132', 'to': '269d2ef58b63636b378ae42090e9fed4ac8b7378', 'title': 'Research Papers:\nEvent Adaption for Integrating Distributed Applications,\nConfiguration-level programming of distributed applications using implicit invocation'}, {'from': '1718132', 'to': '4bd2d114c929a81a748329fd3fb9f0cb04c6eb0b', 'title': 'Research Papers:\nTool support for collaborative software prototyping'}, {'from': '1718132', 'to': '715f9d389b7883fa5951228d5660329ba103ea78', 'title': 'Research Papers:\nUsing an architectural approach to integrate heterogeneous, distributed software components,\nA Packaging System For Heterogeneous Execution Environments,\nA software-system visualization tool,\nParse tree annotations'}, {'from': '1718132', 'to': 'aedee48dc58a65891acafc81115333564d469ff5', 'title': 'Research Papers:\nParallel I/O using a distributed disk cluster: an exercise in tailored prototyping'}, {'from': '1718132', 'to': '1ccda53394c4310238dd70d1a369fdecab3fa3e4', 'title': 'Research Papers:\nExperiences with CCB-Directed Projects in the Classroom'}, {'from': '1718132', 'to': '3b54553821537ff656034f2cf0de91c3f54c763f', 'title': 'Research Papers:\nPlanning for change: a reconfiguration language for distributed systems'}, {'from': '1718132', 'to': 'b98fed078779920f589c0b21783b8891b11f932e', 'title': 'Research Papers:\nTool support for tailored software prototyping'}, {'from': '1718132', 'to': '5710e717a596db598df076ce44a7db8161c7067b', 'title': 'Research Papers:\nDynamic reconfiguration in distributed systems: adapting software modules for replacement,\nA framework for dynamic reconfiguration of distributed programs,\nDynamic reconfiguration of distributed programs'}, {'from': '1718132', 'to': '6a6083e9b02988cb6fce8ade9ecd3660f8ec8a5e', 'title': 'Research Papers:\nSurgeon: a packager for dynamically reconfigurable distributed applications'}, {'from': '1718132', 'to': 'd712dfe8cd0a0572d13b951e04b88c7a418d98f0', 'title': 'Research Papers:\nExperiences with implementing a software bus using lighweight processes'}, {'from': '1718132', 'to': '2292554029cdc4aa3e5bf66ee974084ad569805f', 'title': 'Research Papers:\nA Packager for Multicast Software in Distributed Systems'}, {'from': '1718132', 'to': '92ac1d600753895d26950f8743f27cdf9c223fa1', 'title': 'Research Papers:\nObject-oriented megaprogramming (panel)'}, {'from': '1718132', 'to': 'c66c33deb94b7d03912f528ee958a4689ebaf1ab', 'title': 'Research Papers:\nInterface Type Checking of Large C Applications'}, {'from': '1718132', 'to': 'c9441765d0b445d42291b100ac3d97d50f9f3b9a', 'title': 'Research Papers:\nA methodology for prototyping-in-the-large'}, {'from': '1718132', 'to': 'e1f18244805fe6ba7e9bb9ba24c49012df036ebf', 'title': 'Research Papers:\nAn Environment for Developing Fault-Tolerant Software,\nAn environment for prototyping distributed applications'}, {'from': '1718132', 'to': '22a2e41904fb2d487cde6f3022ed86234772484b', 'title': 'Research Papers:\nAutomatic generation of visualization code for the Connection Machine'}, {'from': '1718132', 'to': '48de5e91050c48dbf8482dc62574216e81f504d4', 'title': "Research Papers:\nThe NewYacc user's manual"}, {'from': '1718132', 'to': '7cefa74d8d3b18fe16a1af4100d1035b4e24ec85', 'title': 'Research Papers:\nDevelopment of embedded software using interconnection technology'}, {'from': '1718132', 'to': '8c5cf1bfddc47865520c75e65545de895984db49', 'title': 'Research Papers:\nImproving module reuse by interface adaptation'}, {'from': '1718132', 'to': 'bfba2348af270af27e47c2ec2ea070dc11103b36', 'title': 'Research Papers:\nThe common prototyping language—a module interconnection approach'}, {'from': '1718132', 'to': 'c57a41fff9b395a28ad93d822c648e379d3825b5', 'title': 'Research Papers:\nAn experimental program analysis tool for Ada'}, {'from': '1718132', 'to': 'ee20eefac967abcde2529ee36f0ebafa0d9f1e4e', 'title': 'Research Papers:\nWriting distributed programs in Polylith'}, {'from': '1718132', 'to': '9e7924ee20a1db4f032c9989f17b1d7b1d75a0f2', 'title': 'Research Papers:\nEnvironments for Prototyping Parallel Algorithms'}, {'from': '1718132', 'to': '3333a19c09ebde7d7821a055de044b6c31f784ee', 'title': "Research Papers:\nRamanujan's modular equations of ``large'' prime degree,\nRamanujan's modular equations of degrees $7$ and $11$,\nRamanujan's ``mixed'' modular equations"}, {'from': '1718132', 'to': '7ed4e50b56543e266fe280657a1a12a3c7f04aa8', 'title': 'Research Papers:\nAn Architecture for Tool Integration'}]);

  // create a network
  var container = document.getElementById('mynetwork');

  // provide the data in the vis format
  var data = {
    nodes: nodes,
    edges: edges
  };

  // Add distance between nodes
  var options = {
    physics: {
      solver: "repulsion",
      repulsion: {
        nodeDistance: 500 // Put more distance between the nodes.
      }
    }
  };

  // initialize your network!
  var network = new vis.Network(container, data, options);
  network.stabilize();

}